package com.th7bo.dynamo.utils


// modified from CraftBukkit
class CustomFont(malleable: Boolean) : CustomMapFont() {
    private val spaceSize = 3
    private val fontChars = " !\"#$%&'()*+,-./0123456789:;<=>?" +
            "@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_" +
            "'abcdefghijklmnopqrstuvwxyz{|}~\u007F" +
            "\u00C7\u00FC\u00E9\u00E2\u00E4\u00E0\u00E5\u00E7" +  // Çüéâäàåç
            "\u00EA\u00EB\u00E8\u00EF\u00EE\u00EC\u00C4\u00C5" +  // êëèïîìÄÅ
            "\u00C9\u00E6\u00C6\u00F4\u00F6\u00F2\u00FB\u00F9" +  // ÉæÆôöòûù
            "\u00FF\u00D6\u00DC\u00F8\u00A3\u00D8\u00D7\u0191" +  // ÿÖÜø£Ø×ƒ
            "\u00E1\u00ED\u00F3\u00FA\u00F1\u00D1\u00AA\u00BA" +  // áíóúñÑªº
            "\u00BF\u00AE\u00AC\u00BD\u00BC\u00A1\u00AB\u00BB" // ¿®¬½¼¡«»
    private val fontData = arrayOf(
        /* null */intArrayOf(0, 0, 0, 0, 0, 0, 0, 0),  /* 1 */
        intArrayOf(126, 129, 165, 129, 189, 153, 129, 126),  /* 2 */
        intArrayOf(126, 255, 219, 255, 195, 231, 255, 126),  /* 3 */
        intArrayOf(54, 127, 127, 127, 62, 28, 8, 0),  /* 4 */
        intArrayOf(8, 28, 62, 127, 62, 28, 8, 0),  /* 5 */
        intArrayOf(28, 62, 28, 127, 127, 62, 28, 62),  /* 6 */
        intArrayOf(8, 8, 28, 62, 127, 62, 28, 62),  /* 7 */
        intArrayOf(0, 0, 24, 60, 60, 24, 0, 0),  /* 8 */
        intArrayOf(255, 255, 231, 195, 195, 231, 255, 255),  /* 9 */
        intArrayOf(0, 60, 102, 66, 66, 102, 60, 0),  /* 10 */
        intArrayOf(255, 195, 153, 189, 189, 153, 195, 255),  /* 11 */
        intArrayOf(240, 224, 240, 190, 51, 51, 51, 30),  /* 12 */
        intArrayOf(60, 102, 102, 102, 60, 24, 126, 24),  /* 13 */
        intArrayOf(252, 204, 252, 12, 12, 14, 15, 7),  /* 14 */
        intArrayOf(254, 198, 254, 198, 198, 230, 103, 3),  /* 15 */
        intArrayOf(153, 90, 60, 231, 231, 60, 90, 153),  /* 16 */
        intArrayOf(1, 7, 31, 127, 31, 7, 1, 0),  /* 17 */
        intArrayOf(64, 112, 124, 127, 124, 112, 64, 0),  /* 18 */
        intArrayOf(24, 60, 126, 24, 24, 126, 60, 24),  /* 19 */
        intArrayOf(102, 102, 102, 102, 102, 0, 102, 0),  /* 20 */
        intArrayOf(254, 219, 219, 222, 216, 216, 216, 0),  /* 21 */
        intArrayOf(124, 198, 28, 54, 54, 28, 51, 30),  /* 22 */
        intArrayOf(0, 0, 0, 0, 126, 126, 126, 0),  /* 23 */
        intArrayOf(24, 60, 126, 24, 126, 60, 24, 255),  /* 24 */
        intArrayOf(24, 60, 126, 24, 24, 24, 24, 0),  /* 25 */
        intArrayOf(24, 24, 24, 24, 126, 60, 24, 0),  /* 26 */
        intArrayOf(0, 24, 48, 127, 48, 24, 0, 0),  /* 27 */
        intArrayOf(0, 12, 6, 127, 6, 12, 0, 0),  /* 28 */
        intArrayOf(0, 0, 3, 3, 3, 127, 0, 0),  /* 29 */
        intArrayOf(0, 36, 102, 255, 102, 36, 0, 0),  /* 30 */
        intArrayOf(0, 24, 60, 126, 255, 255, 0, 0),  /* 31 */
        intArrayOf(0, 255, 255, 126, 60, 24, 0, 0),  /*   */
        intArrayOf(0, 0, 0, 0, 0, 0, 0, 0),  /* ! */
        intArrayOf(1, 1, 1, 1, 1, 0, 1, 0),  /* " */
        intArrayOf(10, 10, 5, 0, 0, 0, 0, 0),  /* # */
        intArrayOf(10, 10, 31, 10, 31, 10, 10, 0),  /* $ */
        intArrayOf(4, 30, 1, 14, 16, 15, 4, 0),  /* % */
        intArrayOf(17, 9, 8, 4, 2, 18, 17, 0),  /* & */
        intArrayOf(4, 10, 4, 22, 13, 9, 22, 0),  /* ' */
        intArrayOf(2, 2, 1, 0, 0, 0, 0, 0),  /* ( */
        intArrayOf(12, 2, 1, 1, 1, 2, 12, 0),  /* ) */
        intArrayOf(3, 4, 8, 8, 8, 4, 3, 0),  /* * */
        intArrayOf(0, 0, 9, 6, 9, 0, 0, 0),  /* + */
        intArrayOf(0, 4, 4, 31, 4, 4, 0, 0),  /* , */
        intArrayOf(0, 0, 0, 0, 0, 1, 1, 1),  /* - */
        intArrayOf(0, 0, 0, 31, 0, 0, 0, 0),  /* . */
        intArrayOf(0, 0, 0, 0, 0, 1, 1, 0),  /* / */
        intArrayOf(16, 8, 8, 4, 2, 2, 1, 0),  /* 0 */
        intArrayOf(14, 17, 25, 21, 19, 17, 14, 0),  /* 1 */
        intArrayOf(4, 6, 4, 4, 4, 4, 31, 0),  /* 2 */
        intArrayOf(14, 17, 16, 12, 2, 17, 31, 0),  /* 3 */
        intArrayOf(14, 17, 16, 12, 16, 17, 14, 0),  /* 4 */
        intArrayOf(24, 20, 18, 17, 31, 16, 16, 0),  /* 5 */
        intArrayOf(31, 1, 15, 16, 16, 17, 14, 0),  /* 6 */
        intArrayOf(12, 2, 1, 15, 17, 17, 14, 0),  /* 7 */
        intArrayOf(31, 17, 16, 8, 4, 4, 4, 0),  /* 8 */
        intArrayOf(14, 17, 17, 14, 17, 17, 14, 0),  /* 9 */
        intArrayOf(14, 17, 17, 30, 16, 8, 6, 0),  /* : */
        intArrayOf(0, 1, 1, 0, 0, 1, 1, 0),  /* ; */
        intArrayOf(0, 1, 1, 0, 0, 1, 1, 1),  /* < */
        intArrayOf(8, 4, 2, 1, 2, 4, 8, 0),  /* = */
        intArrayOf(0, 0, 31, 0, 0, 31, 0, 0),  /* > */
        intArrayOf(1, 2, 4, 8, 4, 2, 1, 0),  /* ? */
        intArrayOf(14, 17, 16, 8, 4, 0, 4, 0),  /* @ */
        intArrayOf(30, 33, 45, 45, 61, 1, 30, 0),  /* A */
        intArrayOf(14, 17, 31, 17, 17, 17, 17, 0),  /* B */
        intArrayOf(15, 17, 15, 17, 17, 17, 15, 0),  /* C */
        intArrayOf(14, 17, 1, 1, 1, 17, 14, 0),  /* D */
        intArrayOf(15, 17, 17, 17, 17, 17, 15, 0),  /* E */
        intArrayOf(31, 1, 7, 1, 1, 1, 31, 0),  /* F */
        intArrayOf(31, 1, 7, 1, 1, 1, 1, 0),  /* G */
        intArrayOf(30, 1, 25, 17, 17, 17, 14, 0),  /* H */
        intArrayOf(17, 17, 31, 17, 17, 17, 17, 0),  /* I */
        intArrayOf(7, 2, 2, 2, 2, 2, 7, 0),  /* J */
        intArrayOf(16, 16, 16, 16, 16, 17, 14, 0),  /* K */
        intArrayOf(17, 9, 7, 9, 17, 17, 17, 0),  /* L */
        intArrayOf(1, 1, 1, 1, 1, 1, 31, 0),  /* M */
        intArrayOf(17, 27, 21, 17, 17, 17, 17, 0),  /* N */
        intArrayOf(17, 19, 21, 25, 17, 17, 17, 0),  /* O */
        intArrayOf(14, 17, 17, 17, 17, 17, 14, 0),  /* P */
        intArrayOf(15, 17, 15, 1, 1, 1, 1, 0),  /* Q */
        intArrayOf(14, 17, 17, 17, 17, 9, 22, 0),  /* R */
        intArrayOf(15, 17, 15, 17, 17, 17, 17, 0),  /* S */
        intArrayOf(30, 1, 14, 16, 16, 17, 14, 0),  /* T */
        intArrayOf(31, 4, 4, 4, 4, 4, 4, 0),  /* U */
        intArrayOf(17, 17, 17, 17, 17, 17, 14, 0),  /* V */
        intArrayOf(17, 17, 17, 17, 10, 10, 4, 0),  /* W */
        intArrayOf(17, 17, 17, 17, 21, 27, 17, 0),  /* X */
        intArrayOf(17, 10, 4, 10, 17, 17, 17, 0),  /* Y */
        intArrayOf(17, 10, 4, 4, 4, 4, 4, 0),  /* Z */
        intArrayOf(31, 16, 8, 4, 2, 1, 31, 0),  /* [ */
        intArrayOf(7, 1, 1, 1, 1, 1, 7, 0),  /* \ */
        intArrayOf(1, 2, 2, 4, 8, 8, 16, 0),  /* ] */
        intArrayOf(7, 4, 4, 4, 4, 4, 7, 0),  /* ^ */
        intArrayOf(4, 10, 17, 0, 0, 0, 0, 0),  /* _ */
        intArrayOf(0, 0, 0, 0, 0, 0, 0, 31),  /* ` */
        intArrayOf(1, 1, 2, 0, 0, 0, 0, 0),  /* a */
        intArrayOf(0, 0, 14, 16, 30, 17, 30, 0),  /* b */
        intArrayOf(1, 1, 13, 19, 17, 17, 15, 0),  /* c */
        intArrayOf(0, 0, 14, 17, 1, 17, 14, 0),  /* d */
        intArrayOf(16, 16, 22, 25, 17, 17, 30, 0),  /* e */
        intArrayOf(0, 0, 14, 17, 31, 1, 30, 0),  /* f */
        intArrayOf(12, 2, 15, 2, 2, 2, 2, 0),  /* g */
        intArrayOf(0, 0, 30, 17, 17, 30, 16, 15),  /* h */
        intArrayOf(1, 1, 13, 19, 17, 17, 17, 0),  /* i */
        intArrayOf(1, 0, 1, 1, 1, 1, 1, 0),  /* j */
        intArrayOf(16, 0, 16, 16, 16, 17, 17, 14),  /* k */
        intArrayOf(1, 1, 9, 5, 3, 5, 9, 0),  /* l */
        intArrayOf(1, 1, 1, 1, 1, 1, 2, 0),  /* m */
        intArrayOf(0, 0, 11, 21, 21, 17, 17, 0),  /* n */
        intArrayOf(0, 0, 15, 17, 17, 17, 17, 0),  /* o */
        intArrayOf(0, 0, 14, 17, 17, 17, 14, 0),  /* p */
        intArrayOf(0, 0, 13, 19, 17, 15, 1, 1),  /* q */
        intArrayOf(0, 0, 22, 25, 17, 30, 16, 16),  /* r */
        intArrayOf(0, 0, 13, 19, 1, 1, 1, 0),  /* s */
        intArrayOf(0, 0, 30, 1, 14, 16, 15, 0),  /* t */
        intArrayOf(2, 2, 7, 2, 2, 2, 4, 0),  /* u */
        intArrayOf(0, 0, 17, 17, 17, 17, 30, 0),  /* v */
        intArrayOf(0, 0, 17, 17, 17, 10, 4, 0),  /* w */
        intArrayOf(0, 0, 17, 17, 21, 21, 30, 0),  /* x */
        intArrayOf(0, 0, 17, 10, 4, 10, 17, 0),  /* y */
        intArrayOf(0, 0, 17, 17, 17, 30, 16, 15),  /* z */
        intArrayOf(0, 0, 31, 8, 4, 2, 31, 0),  /* { */
        intArrayOf(12, 2, 2, 1, 2, 2, 12, 0),  /* | */
        intArrayOf(1, 1, 1, 0, 1, 1, 1, 0),  /* } */
        intArrayOf(3, 4, 4, 8, 4, 4, 3, 0),  /* ~ */
        intArrayOf(38, 25, 0, 0, 0, 0, 0, 0),  /* ⌂ */
        intArrayOf(0, 0, 4, 10, 17, 17, 31, 0),  /* Ç */
        intArrayOf(14, 17, 1, 1, 17, 14, 16, 12),  /* ü */
        intArrayOf(10, 0, 17, 17, 17, 17, 30, 0),  /* é */
        intArrayOf(24, 0, 14, 17, 31, 1, 30, 0),  /* â */
        intArrayOf(14, 17, 14, 16, 30, 17, 30, 0),  /* ä */
        intArrayOf(10, 0, 14, 16, 30, 17, 30, 0),  /* à */
        intArrayOf(3, 0, 14, 16, 30, 17, 30, 0),  /* å */
        intArrayOf(4, 0, 14, 16, 30, 17, 30, 0),  /* ç */
        intArrayOf(0, 14, 17, 1, 17, 14, 16, 12),  /* ê */
        intArrayOf(14, 17, 14, 17, 31, 1, 30, 0),  /* ë */
        intArrayOf(10, 0, 14, 17, 31, 1, 30, 0),  /* è */
        intArrayOf(3, 0, 14, 17, 31, 1, 30, 0),  /* ï */
        intArrayOf(5, 0, 2, 2, 2, 2, 2, 0),  /* î */
        intArrayOf(14, 17, 4, 4, 4, 4, 4, 0),  /* ì */
        intArrayOf(3, 0, 2, 2, 2, 2, 2, 0),  /* Ä */
        intArrayOf(17, 14, 17, 31, 17, 17, 17, 0),  /* Å */
        intArrayOf(4, 0, 14, 17, 31, 17, 17, 0),  /* É */
        intArrayOf(24, 0, 31, 1, 7, 1, 31, 0),  /* æ */
        intArrayOf(0, 0, 10, 20, 30, 5, 30, 0),  /* Æ */
        intArrayOf(30, 5, 15, 5, 5, 5, 29, 0),  /* ô */
        intArrayOf(14, 17, 14, 17, 17, 17, 14, 0),  /* ö */
        intArrayOf(10, 0, 14, 17, 17, 17, 14, 0),  /* ò */
        intArrayOf(3, 0, 14, 17, 17, 17, 14, 0),  /* û */
        intArrayOf(14, 17, 0, 17, 17, 17, 30, 0),  /* ù */
        intArrayOf(3, 0, 17, 17, 17, 17, 30, 0),  /* ÿ */
        intArrayOf(10, 0, 17, 17, 17, 30, 16, 15),  /* Ö */
        intArrayOf(17, 14, 17, 17, 17, 17, 14, 0),  /* Ü */
        intArrayOf(17, 0, 17, 17, 17, 17, 14, 0),  /* ø */
        intArrayOf(0, 0, 14, 25, 21, 19, 14, 4),  /* £ */
        intArrayOf(12, 18, 2, 15, 2, 2, 31, 0),  /* Ø */
        intArrayOf(14, 17, 25, 21, 19, 17, 14, 0),  /* × */
        intArrayOf(0, 0, 5, 2, 5, 0, 0, 0),  /* ƒ */
        intArrayOf(8, 20, 4, 14, 4, 4, 5, 2),  /* á */
        intArrayOf(24, 0, 14, 16, 30, 17, 30, 0),  /* í */
        intArrayOf(3, 0, 1, 1, 1, 1, 1, 0),  /* ó */
        intArrayOf(24, 0, 14, 17, 17, 17, 14, 0),  /* ú */
        intArrayOf(24, 0, 17, 17, 17, 17, 30, 0),  /* ñ */
        intArrayOf(31, 0, 15, 17, 17, 17, 17, 0),  /* Ñ */
        intArrayOf(31, 0, 17, 19, 21, 25, 17, 0),  /* ª */
        intArrayOf(14, 16, 31, 30, 0, 31, 0, 0),  /* º */
        intArrayOf(14, 17, 17, 14, 0, 31, 0, 0),  /* ¿ */
        intArrayOf(4, 0, 4, 2, 1, 17, 14, 0),  /* ® */
        intArrayOf(0, 30, 45, 37, 43, 30, 0, 0),  /* ¬ */
        intArrayOf(0, 0, 0, 31, 16, 16, 0, 0),  /* ½ */
        intArrayOf(17, 9, 8, 4, 18, 10, 25, 0),  /* ¼ */
        intArrayOf(17, 9, 8, 4, 26, 26, 17, 0),  /* ¡ */
        intArrayOf(0, 1, 0, 1, 1, 1, 1, 0),  /* « */
        intArrayOf(0, 20, 10, 5, 10, 20, 0, 0),  /* » */
        intArrayOf(0, 5, 10, 20, 10, 5, 0, 0),  /* 176 */
        intArrayOf(68, 17, 68, 17, 68, 17, 68, 17),  /* 177 */
        intArrayOf(170, 85, 170, 85, 170, 85, 170, 85),  /* 178 */
        intArrayOf(219, 238, 219, 119, 219, 238, 219, 119),  /* 179 */
        intArrayOf(24, 24, 24, 24, 24, 24, 24, 24),  /* 180 */
        intArrayOf(24, 24, 24, 24, 31, 24, 24, 24),  /* 181 */
        intArrayOf(24, 24, 31, 24, 31, 24, 24, 24),  /* 182 */
        intArrayOf(108, 108, 108, 108, 111, 108, 108, 108),  /* 183 */
        intArrayOf(0, 0, 0, 0, 127, 108, 108, 108),  /* 184 */
        intArrayOf(0, 0, 31, 24, 31, 24, 24, 24),  /* 185 */
        intArrayOf(108, 108, 111, 96, 111, 108, 108, 108),  /* 186 */
        intArrayOf(108, 108, 108, 108, 108, 108, 108, 108),  /* 187 */
        intArrayOf(0, 0, 127, 96, 111, 108, 108, 108),  /* 188 */
        intArrayOf(108, 108, 111, 96, 127, 0, 0, 0),  /* 189 */
        intArrayOf(108, 108, 108, 108, 127, 0, 0, 0),  /* 190 */
        intArrayOf(24, 24, 31, 24, 31, 0, 0, 0),  /* 191 */
        intArrayOf(0, 0, 0, 0, 31, 24, 24, 24),  /* 192 */
        intArrayOf(24, 24, 24, 24, 248, 0, 0, 0),  /* 193 */
        intArrayOf(24, 24, 24, 24, 255, 0, 0, 0),  /* 194 */
        intArrayOf(0, 0, 0, 0, 255, 24, 24, 24),  /* 195 */
        intArrayOf(24, 24, 24, 24, 248, 24, 24, 24),  /* 196 */
        intArrayOf(0, 0, 0, 0, 255, 0, 0, 0),  /* 197 */
        intArrayOf(24, 24, 24, 24, 255, 24, 24, 24),  /* 198 */
        intArrayOf(24, 24, 248, 24, 248, 24, 24, 24),  /* 199 */
        intArrayOf(108, 108, 108, 108, 236, 108, 108, 108),  /* 200 */
        intArrayOf(108, 108, 236, 12, 252, 0, 0, 0),  /* 201 */
        intArrayOf(0, 0, 252, 12, 236, 108, 108, 108),  /* 202 */
        intArrayOf(108, 108, 239, 0, 255, 0, 0, 0),  /* 203 */
        intArrayOf(0, 0, 255, 0, 239, 108, 108, 108),  /* 204 */
        intArrayOf(108, 108, 236, 12, 236, 108, 108, 108),  /* 205 */
        intArrayOf(0, 0, 255, 0, 255, 0, 0, 0),  /* 206 */
        intArrayOf(108, 108, 239, 0, 239, 108, 108, 108),  /* 207 */
        intArrayOf(24, 24, 255, 0, 255, 0, 0, 0),  /* 208 */
        intArrayOf(108, 108, 108, 108, 255, 0, 0, 0),  /* 209 */
        intArrayOf(0, 0, 255, 0, 255, 24, 24, 24),  /* 210 */
        intArrayOf(0, 0, 0, 0, 255, 108, 108, 108),  /* 211 */
        intArrayOf(108, 108, 108, 108, 252, 0, 0, 0),  /* 212 */
        intArrayOf(24, 24, 248, 24, 248, 0, 0, 0),  /* 213 */
        intArrayOf(0, 0, 248, 24, 248, 24, 24, 24),  /* 214 */
        intArrayOf(0, 0, 0, 0, 252, 108, 108, 108),  /* 215 */
        intArrayOf(108, 108, 108, 108, 255, 108, 108, 108),  /* 216 */
        intArrayOf(24, 24, 255, 24, 255, 24, 24, 24),  /* 217 */
        intArrayOf(24, 24, 24, 24, 31, 0, 0, 0),  /* 218 */
        intArrayOf(0, 0, 0, 0, 248, 24, 24, 24),  /* 219 */
        intArrayOf(255, 255, 255, 255, 255, 255, 255, 255),  /* 220 */
        intArrayOf(0, 0, 0, 0, 255, 255, 255, 255),  /* 221 */
        intArrayOf(15, 15, 15, 15, 15, 15, 15, 15),  /* 222 */
        intArrayOf(240, 240, 240, 240, 240, 240, 240, 240),  /* 223 */
        intArrayOf(255, 255, 255, 255, 0, 0, 0, 0),  /* 224 */
        intArrayOf(0, 0, 110, 59, 19, 59, 110, 0),  /* 225 */
        intArrayOf(0, 30, 51, 31, 51, 31, 3, 3),  /* 226 */
        intArrayOf(0, 63, 51, 3, 3, 3, 3, 0),  /* 227 */
        intArrayOf(0, 127, 54, 54, 54, 54, 54, 0),  /* 228 */
        intArrayOf(63, 51, 6, 12, 6, 51, 63, 0),  /* 229 */
        intArrayOf(0, 0, 126, 27, 27, 27, 14, 0),  /* 230 */
        intArrayOf(0, 102, 102, 102, 102, 62, 6, 3),  /* 231 */
        intArrayOf(0, 110, 59, 24, 24, 24, 24, 0),  /* 232 */
        intArrayOf(63, 12, 30, 51, 51, 30, 12, 63),  /* 233 */
        intArrayOf(28, 54, 99, 127, 99, 54, 28, 0),  /* 234 */
        intArrayOf(28, 54, 99, 99, 54, 54, 119, 0),  /* 235 */
        intArrayOf(56, 12, 24, 62, 51, 51, 30, 0),  /* 236 */
        intArrayOf(0, 0, 126, 219, 219, 126, 0, 0),  /* 237 */
        intArrayOf(96, 48, 126, 219, 219, 126, 6, 3),  /* 238 */
        intArrayOf(28, 6, 3, 31, 3, 6, 28, 0),  /* 239 */
        intArrayOf(30, 51, 51, 51, 51, 51, 51, 0),  /* 240 */
        intArrayOf(0, 63, 0, 63, 0, 63, 0, 0),  /* 241 */
        intArrayOf(12, 12, 63, 12, 12, 0, 63, 0),  /* 242 */
        intArrayOf(6, 12, 24, 12, 6, 0, 63, 0),  /* 243 */
        intArrayOf(24, 12, 6, 12, 24, 0, 63, 0),  /* 244 */
        intArrayOf(112, 216, 216, 24, 24, 24, 24, 24),  /* 245 */
        intArrayOf(24, 24, 24, 24, 24, 27, 27, 14),  /* 246 */
        intArrayOf(12, 12, 0, 63, 0, 12, 12, 0),  /* 247 */
        intArrayOf(0, 110, 59, 0, 110, 59, 0, 0),  /* 248 */
        intArrayOf(28, 54, 54, 28, 0, 0, 0, 0),  /* 249 */
        intArrayOf(0, 0, 0, 24, 24, 0, 0, 0),  /* 250 */
        intArrayOf(0, 0, 0, 0, 24, 0, 0, 0),  /* 251 */
        intArrayOf(240, 48, 48, 48, 55, 54, 60, 56),  /* 252 */
        intArrayOf(30, 54, 54, 54, 54, 0, 0, 0),  /* 253 */
        intArrayOf(14, 24, 12, 6, 30, 0, 0, 0),  /* 254 */
        intArrayOf(0, 0, 60, 60, 60, 60, 0, 0),  /* 255 */
        intArrayOf(0, 0, 0, 0, 0, 0, 0, 0),
    )

    init {
        for (i in 1 until fontData.size) {
            var ch = i.toChar()
            if (i >= 32 && i < 32 + fontChars.length) {
                ch = fontChars[i - 32]
            }

            if (ch == ' ') {
                setChar(ch, CharacterSprite(spaceSize, 8, BooleanArray(spaceSize * 8)))
                continue
            }

            val rows = fontData[i]
            var width = 0
            for (r in 0..7) {
                for (c in 0..7) {
                    if ((rows[r] and (1 shl c)) != 0 && c > width) {
                        width = c
                    }
                }
            }
            ++width

            val data = BooleanArray(width * 8)
            for (r in 0..7) {
                for (c in 0 until width) {
                    data[r * width + c] = (rows[r] and (1 shl c)) != 0
                }
            }

            setChar(ch, CharacterSprite(width, 8, data))
        }

        this.malleable = malleable
    }
}